---
title: Control access to the content with country, referrer, IP, and user agents policies
sidebarTitle: Manage access policies
---

## Referrer access policy

Referrer access policy is a restriction to publish the links to content on your site on other sites. To enable the option navigate to CDN resources, click Settings of the resource, choose the Advanced Settings tab, in the Access (Security) click Add policy and find Referrer access policy. 

By default, there are no restrictions by referrer to your CDN resource. You can set up allow or block Policy.

### Allow referrer policy


<Frame>![Allow referrer policy](/images/docs/cdn/cdn-resource-options/security/control-access-to-the-content-with-country-referrer-ip-and-user-agents-policies/allow-referrer-access-policy.png)</Frame>



Specify domains to which you would like to block access.

  * `www.domain.com` if you want to block access to the specific domain
  * `*.domain.com` if you want to block access to all subdomains of domain.com



When users request data from specified domains, they will get the denial of access.

### Block referrer policy


<Frame>![Block referrer policy](/images/docs/cdn/cdn-resource-options/security/control-access-to-the-content-with-country-referrer-ip-and-user-agents-policies/block-referrer-access-policy.png)</Frame>



Specify the domains which you would like to allow access to.

  * `www.domain.com` if you want to allow access to the specific domain
  * `*.domain.com` if you want to allow access to all subdomains of domain.com



When a user requests data from other domains, they will get the denial of access.

You can specify domains only one by one via the Gcore Customer Portal. To add the list of the domains use [API](https://api.gcore.com/docs/cdn).

## Country access policy

You can limit access to your content for listed countries. To enable the option navigate to CDN resources, click Settings, open the Advanced Settings, in the Access (Security) click Add policy and find Country access policy. 

By default, there are no restrictions by country to your CDN resource. You can set up allow or block policy. 

**Note** : You can specify countries only one by one via the Gcore Customer Portal. To add the list of the countries, use [API](https://api.gcore.com/docs/cdn). 

### Allow country access policy

Access to the resource is allowed for all the countries except for the specified in the field.


<Frame>![Allow country access policy](/images/docs/cdn/cdn-resource-options/security/control-access-to-the-content-with-country-referrer-ip-and-user-agents-policies/Screenshot-2018-1-3_G-Core_Labs_Resources_Settings_1_.png)</Frame>



### Block country access policy

Access to the resource is denied for all the countries except for the specified in the field.


<Frame>![Block country access policy](/images/docs/cdn/cdn-resource-options/security/control-access-to-the-content-with-country-referrer-ip-and-user-agents-policies/Screenshot-2018-1-3_G-Core_Labs_Resources_Settings_2_.png)</Frame>



## IP access policy

You can limit access to your content to IP ranges.

In CDN resource settings choose Show Advanced Settings, in the Access (Security) click Add policy and find IP access policy. 

By default, there are no restrictions by IP to your CDN resource. You can set up Allow or Block policy.

The option supports IPv4 and IPv6 addresses.

You can specify IPs only one by one via the Gcore Customer Portal. To add the list of the IPs use [API](https://api.gcore.com/docs/cdn).

### Allow IP policy

Access to the resource is allowed for all the IPs except for the specified in the field.


<Frame>![Allow IP policy](/images/docs/cdn/cdn-resource-options/security/control-access-to-the-content-with-country-referrer-ip-and-user-agents-policies/____________eng.png)</Frame>



### Block IP policy

Access to the resource is denied for all the IPs except for the specified in the field.


<Frame>![Block IP policy](/images/docs/cdn/cdn-resource-options/security/control-access-to-the-content-with-country-referrer-ip-and-user-agents-policies/____________eng.png)</Frame>



## User agent access policy

You can limit access to your CDN content for User agents, for example, for certain browsers, consoles or some other devices.

In CDN resource settings choose Show Advanced Settings, find Access (Security), click Add policy and find User agents policy. 

By default access to the resource is allowed for all the kinds of User Agents. You can set up the allow or block policy. 

### Set via the customer portal

To set the user agents using the Gcore Customer Portal:

1\. Go to CDN and select the CDN resource you want to configure.


<Frame>![Set via the Gcore Customer Portal](/images/docs/cdn/cdn-resource-options/security/control-access-to-the-content-with-country-referrer-ip-and-user-agents-policies/11759524174225.png)</Frame>



2\. In the sidebar, under the "Access" section, select **User agents policy**.


<Frame>![Access](/images/docs/cdn/cdn-resource-options/security/control-access-to-the-content-with-country-referrer-ip-and-user-agents-policies/11759524173201.png)</Frame>



3\. Toggle "Enable user agents policy" and choose either the **Allow by default** or **Block by default** option:

  * Selecting **Allow by default** allows access for all user agents except those specified.
  * Choosing **Block by default** blocks access for all user agents except those specified.


<Frame>![Enable user agents policy](/images/docs/cdn/cdn-resource-options/security/control-access-to-the-content-with-country-referrer-ip-and-user-agents-policies/11759511525777.png)</Frame>



4\. Set one or more user agents in the **User-Agent** select box. Accepted values are:

  * **Empty value.** This appears as an option in the select box. Select this value to allow or block incoming requests that do not have a User-Agent header.


<Frame>![Empty value](/images/docs/cdn/cdn-resource-options/security/control-access-to-the-content-with-country-referrer-ip-and-user-agents-policies/11759524278033.png)</Frame>



  * **User agent string.** Enter one or more unique user agents. The maximum length of each string is 255 characters. If you need to increase this limit, you can contact our [support team](mailto:support@gcore.com).


<Frame>![User agent string](/images/docs/cdn/cdn-resource-options/security/control-access-to-the-content-with-country-referrer-ip-and-user-agents-policies/11759524358289.png)</Frame>



**Note** : **User-Agent** text box cannot be left blank.

5\. Click **Save changes**. Allow at least 15 minutes for the changes to take effect.


<Frame>![Save changes.](/images/docs/cdn/cdn-resource-options/security/control-access-to-the-content-with-country-referrer-ip-and-user-agents-policies/11759524347409.png)</Frame>



### Set via the API

To set the user agents using the API, the request must include the `user_agent_acl` object. The following is a sample code for the object:
    
```json
"options": {  
    "user_agent_acl": {  
       "enabled": true,  
       "policy_type": "allow",  
       "excepted_values": [  
          "",  
          "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36"  
      ]  
   }  
}
```


#### Request properties

The `user_agent_acl` object passes the following information:

**Property** | **Description**  
---|---  
_enabled_ | This property indicates whether to enable the User Agents Policy.<br/>Possible values:<br/>- true enables the option<br/>- false disables the option
_policy_type_ | This property indicates the action to apply to the matching request.<br/>Possible values: <br/>- allow allows the request<br/>- deny blocks the request
_excepted_values_ | This property is an array of user agents to allow or block. The array must contain at least 1 item.<br/>Possible values:<br/>- two double quotation marks without a space in-between ("") represents the _empty value_<br/>- a string that represents the user agent, with a maximum length of 255 characters; if you need to increase this limit, you can contact our [support team](mailto:support@gcore.com)

  
  
#### Example

This example shows a [CDN update](https://api.gcore.com/docs/cdn) request that activates the User Agents Policy and blocks the requests without a User agent header.


<Frame>![CDN update request](/images/docs/cdn/cdn-resource-options/security/control-access-to-the-content-with-country-referrer-ip-and-user-agents-policies/11759524427921.png)</Frame>